import{d as F,aV as L,q as M,a$ as P,r as i,c as d,o as s,e as c,b as n,u as t,ad as C,h as o,f as u,R as m,S,T as V,g as _,a6 as h,X as x,U as X,P as A,_ as G}from"./index-BYaWS0Gd.js";import{useSchedule as H}from"./hook-Z1JkdDMS.js";import{R as y}from"./index-CHSWbZIE.js";import"./form.vue_vue_type_script_setup_true_lang-DsNyn1Sn.js";const J={class:"flex-bc flex-wrap w-full mb-4"},K={class:"flex flex-wrap items-center gap-2"},Q={class:"flex-bc"},W={class:"scheduling-content"},Y={key:0},Z=["onDblclick","onClick"],ee={key:1,class:"m-4 flex-c flex-col gap-2 text-center text-[rgba(0,0,0,0.45)] dark:text-[rgba(255,255,255,0.45)]"},le=F({name:"Schedule",__name:"index",setup(te){L.locale("zh-cn",{weekStart:1});const g=M(),{update:D}=P(),{date:r,legends:w,getScheduleTagStyle:$,getScheduleTagIcon:I,getScheduleTagIconColor:T,deviceDetection:R,getScheduling:v,selectDate:f,formatSchedule:B,onSchedulingClick:N,openDialog:j}=H(g);return(ne,e)=>{const z=i("el-date-picker"),p=i("el-button"),U=i("el-button-group"),k=i("IconifyIconOnline"),b=i("el-scrollbar"),E=i("el-calendar");return s(),d("div",null,[c("div",J,[c("div",K,[n(z,{modelValue:t(r),"onUpdate:modelValue":e[0]||(e[0]=l=>C(r)?r.value=l:null),class:"!w-[160px]",type:"month",placeholder:"请选择日期",onClear:e[1]||(e[1]=l=>r.value=new Date)},null,8,["modelValue"]),n(U,null,{default:o(()=>[n(p,{onClick:e[2]||(e[2]=l=>t(f)("prev-month"))},{default:o(()=>[...e[7]||(e[7]=[u("上个月",-1)])]),_:1}),n(p,{onClick:e[3]||(e[3]=l=>t(f)("today"))},{default:o(()=>[...e[8]||(e[8]=[u("今天",-1)])]),_:1}),n(p,{onClick:e[4]||(e[4]=l=>t(f)("next-month"))},{default:o(()=>[...e[9]||(e[9]=[u("下个月",-1)])]),_:1})]),_:1})]),c("div",{class:"flex items-center gap-2",style:m({marginTop:t(R)()?"6px":""})},[(s(!0),d(S,null,V(t(w),(l,a)=>(s(),d("div",{key:a,class:"flex items-center text-[18px] font-medium",style:m({color:l.color})},[(s(),_(h(l.icon),{class:"mr-1"})),c("span",null,x(l.text),1)],4))),128))],4)]),n(E,{ref_key:"calendarRef",ref:g,modelValue:t(r),"onUpdate:modelValue":e[6]||(e[6]=l=>C(r)?r.value=l:null)},{"date-cell":o(({data:l})=>[n(b,null,{default:o(()=>[c("div",{class:"calendar-scheduling",onClick:e[5]||(e[5]=X(()=>{},["stop"]))},[c("div",Q,[n(t(y),{class:"calendar-day !text-[16px]"},{default:o(()=>[u(x(l.day.split("-").slice(1).join("-")),1)]),_:2},1024),l.type==="current-month"?(s(),_(p,{key:0,size:"small",circle:"",onClick:a=>t(j)("新增",{startDate:l.day,endDate:l.day})},{icon:o(()=>[n(k,{icon:"ri:add-large-line",color:"#8E9096"})]),_:1},8,["onClick"])):A("",!0)]),c("div",W,[n(b,null,{default:o(()=>[t(v)(l.day).length>0?(s(),d("div",Y,[(s(!0),d(S,null,V(t(v)(l.day),(a,O)=>(s(),d("div",{key:O,onDblclick:q=>t(D)(t(B)(l.day,a)),onClick:q=>t(N)(l.type,a)},[c("div",{class:"scheduling-tag",style:m(t($)(a.classes))},[(s(),_(h(t(I)(a.classes)),{class:"mr-1",style:m(t(T)(a.classes))},null,8,["style"])),n(t(y),{class:"!w-full !text-inherit !text-[13px]"},{default:o(()=>[u(x(a.scheduling),1)]),_:2},1024)],4)],40,Z))),128))])):(s(),d("div",ee,[n(k,{icon:"ep:calendar"}),n(t(y),{class:"!text-inherit !text-[13px]"},{default:o(()=>[...e[10]||(e[10]=[u("暂无排班",-1)])]),_:1})]))]),_:2},1024)])])]),_:2},1024)]),_:1},8,["modelValue"])])}}}),re=G(le,[["__scopeId","data-v-e56e2bbc"]]);export{re as default};
